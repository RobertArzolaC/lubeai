{% extends "layouts/home.html" %}
{% load static %}
{% load i18n %}
{% load allauth %}

{% block title_page %}
    {% trans "Change Password" %}
{% endblock %}

{% block content %}
<div class="lubricant-login-container d-flex flex-column flex-lg-row flex-column-fluid">
    <!-- Brand Side Panel -->
    <div class="lubricant-login-brand d-flex flex-column flex-lg-row-auto w-xl-600px position-xl-relative">
        <div class="d-flex flex-column position-xl-fixed top-0 bottom-0 w-xl-600px scroll-y">
            <!-- Industrial Pattern Background -->
            <div class="d-flex flex-row-fluid flex-column text-center p-5 p-lg-10 pt-lg-20">
                <!-- Logo Section -->
                <div class="py-2 py-lg-10 mb-4">
                    <img
                        alt="{{ config.PROJECT_NAME }} Logo"
                        src="{% static 'assets/images/logos/logo.png' %}"
                        class="lubricant-logo max-h-75px"
                        height="50"
                    />
                </div>

                <!-- Brand Title -->
                <h1 class="lubricant-brand-title d-none d-lg-block fs-2qx pb-5 pb-md-8">
                    <i class="fas fa-check-double lubricant-icon me-3 lubricant-pulse"></i>
                    {% trans "Welcome to" %} {{ config.PROJECT_NAME }}
                </h1>

                <!-- Brand Description -->
                <div class="d-none d-lg-block">
                    <p class="lubricant-brand-subtitle fs-2 mb-4">
                        <i class="fas fa-shield-check lubricant-icon me-2"></i>
                        {% trans "Your password has been successfully changed" %}
                    </p>
                    <p class="lubricant-brand-subtitle fs-4 opacity-75">
                        {% trans "Secure access • Protected account • Ready to use" %}
                    </p>
                </div>

                <!-- Mobile Brand -->
                <div class="d-lg-none text-center py-4">
                    <h2 class="lubricant-brand-title fs-1 mb-3">
                        {{ config.PROJECT_NAME }}
                    </h2>
                    <p class="lubricant-brand-subtitle fs-6">
                        {% trans "Password Changed Successfully" %}
                    </p>
                </div>
            </div>

            <!-- Industrial Illustration -->
            <div class="d-none d-lg-block d-flex flex-row-auto justify-content-center align-items-end pb-10">
                <div class="text-center">
                    <i class="fas fa-shield-check lubricant-icon fa-5x opacity-50 mb-4"></i>
                    <div class="d-flex justify-content-center gap-3">
                        <i class="fas fa-check-circle text-success fa-2x"></i>
                        <i class="fas fa-lock text-warning fa-2x"></i>
                        <i class="fas fa-shield-alt lubricant-icon fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Message Side -->
    <div class="d-flex flex-column flex-lg-row-fluid justify-content-center align-items-center py-10">
        <div class="w-100 w-lg-600px px-4 px-lg-0">
            <!-- Main Success Card -->
            <div class="lubricant-login-form">
                <!-- Success Icon -->
                <div class="text-center mb-8">
                    <!-- Mobile Logo -->
                    <div class="d-lg-none mb-6">
                        <img alt="Logo" src="{% static 'assets/images/logos/logo.png' %}" class="lubricant-logo max-h-50px" height="35" />
                    </div>

                    <div class="mb-6">
                        <div class="symbol symbol-100px mb-5">
                            <div class="symbol-label bg-light-success">
                                <i class="fas fa-check-circle fs-2x text-success"></i>
                            </div>
                        </div>
                    </div>

                    <h1 class="text-lubricant-primary mb-4 fs-2x fw-bold">
                        <i class="fas fa-shield-check lubricant-icon me-3"></i>
                        {% trans "Password Changed Successfully" %}
                    </h1>

                    <hr class="lubricant-divider">
                </div>

                <!-- Success Message -->
                <div class="text-center mb-8">
                    <div class="alert alert-dismissible bg-light-success border border-success border-dashed d-flex flex-column flex-sm-row p-5 mb-6">
                        <i class="fas fa-check-circle fs-2hx text-success me-4 mb-5 mb-sm-0"></i>
                        <div class="d-flex flex-column pe-0 pe-sm-10 text-start">
                            <h5 class="mb-3 text-gray-900">{% trans "All Set!" %}</h5>
                            <span class="text-gray-700 fs-6">
                                {% trans "Your password has been successfully changed. You can now sign in to your account and start using the platform." %}
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Benefits Card -->
                <div class="card card-flush bg-lubricant-surface border-0 mb-8">
                    <div class="card-body p-6">
                        <h4 class="text-gray-900 fw-bold mb-4">
                            <i class="fas fa-rocket text-primary me-2"></i>
                            {% trans "What's Next?" %}
                        </h4>
                        <div class="d-flex flex-column gap-4">
                            <div class="d-flex align-items-start">
                                <div class="symbol symbol-40px me-4">
                                    <div class="symbol-label bg-light-primary">
                                        <i class="fas fa-sign-in-alt fs-4 text-primary"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="text-gray-900 mb-1">{% trans "Sign In" %}</h5>
                                    <span class="text-gray-700 fs-7">{% trans "Access your dashboard with your new password" %}</span>
                                </div>
                            </div>
                            <div class="d-flex align-items-start">
                                <div class="symbol symbol-40px me-4">
                                    <div class="symbol-label bg-light-success">
                                        <i class="fas fa-chart-line fs-4 text-success"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="text-gray-900 mb-1">{% trans "Start Working" %}</h5>
                                    <span class="text-gray-700 fs-7">{% trans "Continue with your industrial projects" %}</span>
                                </div>
                            </div>
                            <div class="d-flex align-items-start">
                                <div class="symbol symbol-40px me-4">
                                    <div class="symbol-label bg-light-warning">
                                        <i class="fas fa-cog fs-4 text-warning"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="text-gray-900 mb-1">{% trans "Stay Secure" %}</h5>
                                    <span class="text-gray-700 fs-7">{% trans "Your account is protected with your new password" %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Button -->
                <div class="d-grid mb-6">
                    <a href="{% url "account_login" %}" class="btn btn-lg btn-primary py-4">
                        <i class="fas fa-sign-in-alt me-3"></i>
                        {% trans "Sign In to Your Account" %}
                    </a>
                </div>

                <!-- Security Notice -->
                <div class="text-center">
                    <small class="text-lubricant-medium d-flex align-items-center justify-content-center">
                        <i class="fas fa-shield-alt me-2"></i>
                        {% trans "Your password is encrypted and stored securely" %}
                    </small>
                </div>
            </div>

            <!-- Additional Info -->
            <div class="text-center mt-6">
                <div class="d-flex justify-content-center align-items-center gap-2 text-lubricant-medium fs-7">
                    <i class="fas fa-lightbulb text-warning"></i>
                    <span>{% trans "Tip: Remember to use a strong, unique password" %}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Auto-redirect Script (Optional) -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Opcional: Agregar animación de celebración o confetti
    const successIcon = document.querySelector('.symbol-label.bg-light-success');
    if (successIcon) {
        successIcon.classList.add('animate__animated', 'animate__bounceIn');
    }
});
</script>
{% endblock content %}
