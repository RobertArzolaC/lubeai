
{% extends "layouts/home.html" %}
{% load static %}
{% load i18n allauth account %}
{% load widget_tweaks %}

{% block title_page %}
    {% trans "Password Reset" %}
{% endblock %}

{% block content %}
<div class="lubricant-login-container d-flex flex-column flex-lg-row flex-column-fluid">
    <!-- Brand Side Panel -->
    <div class="lubricant-login-brand d-flex flex-column flex-lg-row-auto w-xl-600px position-xl-relative">
        <div class="d-flex flex-column position-xl-fixed top-0 bottom-0 w-xl-600px scroll-y">
            <!-- Industrial Pattern Background -->
            <div class="d-flex flex-row-fluid flex-column text-center p-5 p-lg-10 pt-lg-20">
                <!-- Logo Section -->
                <div class="py-2 py-lg-10 mb-4">
                    <img
                        alt="{{ config.PROJECT_NAME }} Logo"
                        src="{% static 'assets/images/logos/logo.png' %}"
                        class="lubricant-logo max-h-75px"
                        height="50"
                    />
                </div>

                <!-- Brand Title -->
                <h1 class="lubricant-brand-title d-none d-lg-block fs-2qx pb-5 pb-md-8">
                    <i class="fas fa-check-circle lubricant-icon me-3 lubricant-pulse"></i>
                    {% trans "Welcome to" %} {{ config.PROJECT_NAME }}
                </h1>

                <!-- Brand Description -->
                <div class="d-none d-lg-block">
                    <p class="lubricant-brand-subtitle fs-2 mb-4">
                        <i class="fas fa-envelope lubricant-icon me-2"></i>
                        {% trans "Your password reset email is on the way" %}
                    </p>
                    <p class="lubricant-brand-subtitle fs-4 opacity-75">
                        {% trans "Secure delivery • Protected link • Fast recovery" %}
                    </p>
                </div>

                <!-- Mobile Brand -->
                <div class="d-lg-none text-center py-4">
                    <h2 class="lubricant-brand-title fs-1 mb-3">
                        {{ config.PROJECT_NAME }}
                    </h2>
                    <p class="lubricant-brand-subtitle fs-6">
                        {% trans "Email Sent Successfully" %}
                    </p>
                </div>
            </div>

            <!-- Industrial Illustration -->
            <div class="d-none d-lg-block d-flex flex-row-auto justify-content-center align-items-end pb-10">
                <div class="text-center">
                    <i class="fas fa-paper-plane lubricant-icon fa-5x opacity-50 mb-4"></i>
                    <div class="d-flex justify-content-center gap-3">
                        <i class="fas fa-envelope-open lubricant-icon fa-2x"></i>
                        <i class="fas fa-check-circle text-success fa-2x"></i>
                        <i class="fas fa-shield-alt lubricant-icon fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Message Side -->
    <div class="d-flex flex-column flex-lg-row-fluid justify-content-center align-items-center py-10">
        <div class="w-100 w-lg-600px px-4 px-lg-0">
            <!-- Main Confirmation Card -->
            <div class="lubricant-login-form">
                <!-- Success Icon -->
                <div class="text-center mb-8">
                    <!-- Mobile Logo -->
                    <div class="d-lg-none mb-6">
                        <img alt="Logo" src="{% static 'assets/images/logos/logo.png' %}" class="lubricant-logo max-h-50px" height="35" />
                    </div>

                    <div class="mb-6">
                        <div class="symbol symbol-100px mb-5">
                            <div class="symbol-label bg-light-success">
                                <i class="fas fa-check-circle fs-2x text-success"></i>
                            </div>
                        </div>
                    </div>

                    <h1 class="text-lubricant-primary mb-4 fs-2x fw-bold">
                        <i class="fas fa-envelope-open lubricant-icon me-3"></i>
                        {% trans "Check Your Email" %}
                    </h1>

                    {% if user.is_authenticated %}
                        {% include "account/snippets/already_logged_in.html" %}
                    {% endif %}

                    <hr class="lubricant-divider">
                </div>

                <!-- Information Message -->
                <div class="text-center mb-8">
                    <div class="alert alert-dismissible bg-light-primary border border-primary border-dashed d-flex flex-column flex-sm-row p-5 mb-6">
                        <i class="fas fa-info-circle fs-2hx text-primary me-4 mb-5 mb-sm-0"></i>
                        <div class="d-flex flex-column pe-0 pe-sm-10 text-start">
                            <h5 class="mb-3 text-gray-900">{% trans "Email Sent Successfully" %}</h5>
                            <span class="text-gray-700 fs-6">
                                {% trans "We have sent you an email with instructions to reset your password. If you have not received it, please check your spam folder. Otherwise, contact us if you do not receive it in a few minutes." %}
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Next Steps -->
                <div class="card card-flush bg-lubricant-surface border-0 mb-8">
                    <div class="card-body p-6">
                        <h4 class="text-gray-900 fw-bold mb-4">
                            <i class="fas fa-list-check text-primary me-2"></i>
                            {% trans "Next Steps" %}
                        </h4>
                        <div class="d-flex flex-column gap-3">
                            <div class="d-flex align-items-start">
                                <span class="badge badge-circle badge-primary me-3 mt-1">1</span>
                                <span class="text-gray-700 fs-6">{% trans "Check your email inbox" %}</span>
                            </div>
                            <div class="d-flex align-items-start">
                                <span class="badge badge-circle badge-primary me-3 mt-1">2</span>
                                <span class="text-gray-700 fs-6">{% trans "Click the secure reset link" %}</span>
                            </div>
                            <div class="d-flex align-items-start">
                                <span class="badge badge-circle badge-primary me-3 mt-1">3</span>
                                <span class="text-gray-700 fs-6">{% trans "Create your new password" %}</span>
                            </div>
                            <div class="d-flex align-items-start">
                                <span class="badge badge-circle badge-primary me-3 mt-1">4</span>
                                <span class="text-gray-700 fs-6">{% trans "Sign in with your new credentials" %}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="d-grid mb-4">
                    <a href="{% url "account_login" %}" class="btn btn-lg btn-primary py-4">
                        <i class="fas fa-arrow-left me-3"></i>
                        {% trans "Back to Login" %}
                    </a>
                </div>

                <!-- Security Notice -->
                <div class="text-center">
                    <small class="text-lubricant-medium d-flex align-items-center justify-content-center">
                        <i class="fas fa-shield-alt me-2"></i>
                        {% trans "This is a secure password recovery link" %}
                    </small>
                </div>
            </div>

            <!-- Support Information -->
            <div class="text-center mt-6">
                <p class="text-lubricant-medium fs-7 mb-2">
                    <i class="fas fa-question-circle me-1"></i>
                    {% trans "Didn't receive the email?" %}
                </p>
                <a href="{% url 'account_reset_password' %}" class="lubricant-link fs-7 fw-semibold">
                    <i class="fas fa-redo me-1"></i>
                    {% trans "Try sending it again" %}
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
